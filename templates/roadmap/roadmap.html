{% extends 'base.html' %}

{% block title %}
(주) 곡반 보더스 / KBB - 로드맵
{% endblock %}

{% block style %}
<style>

    .roadmaps{
        width: 100%;
        margin-top: 2rem;
        /* margin-left:1rem;
        margin-right:1rem; */
        font-size:0.8rem;
    }
    .roadmaps .roadmaps__th,
    .roadmaps .roadmaps__roadmap__item{
        text-align: center;
        padding-top:1rem;
        padding-bottom:1rem;
        
    }
    
    .roadmaps .roadmaps__th{
        
        background-color: blanchedalmond;
    }
    
    .roadmaps .roadmaps__th:nth-child(2){
        /* width:95px; */
    }
    .roadmaps .roadmaps__roadmap__item{
        border-bottom:1px solid rgba(128,128,128,0.2);
    }

    .roadmaps tbody .roadmaps__roadmap:hover{
        opacity: 0.5;
    }
    .status_badge.status {
        display:inline-block;
        border-radius: 2rem;
        padding:0.15rem 1rem;
        color:white;
        width:80px;
        font-size: 0.5rem;
        
    }
    .status_badge.status.Done {
        background-color: green;
    }
    .status_badge.status.Pending {
        background-color: grey;
    }
    .status_badge.status.In.Progress {
        background-color: rgb(0, 56, 211);
    }
    .status_badge.status.In.Review {
        background-color: rgb(144, 0, 211);
    }
    .roadmaps__roadmap .reply_badge{
        padding:0.05rem 0.3rem;
        color:white;
        background-color: rgb(135, 148, 222);
        min-width:5px;
        border-radius: 0.25rem;
        font-size:0.6rem;
    }
</style>

{% endblock %}

{% block nav%}
{% include "components/nav/roadmap/roadmap_nav.html" %}
{% endblock %}

{% block content %}

<table class="roadmaps">
    <thead>
        <tr>
            <th class="roadmaps__th"> 로드맵 </th>
            
            <th class="roadmaps__th"> 상태 </th>
            <th class="roadmaps__th"> 할당 </th>
            <th class="roadmaps__th"> 요청자 </th>
            <th class="roadmaps__th"> 등록일 </th>
            
        </tr>
    </thead>
    <tbody>

        {% for roadmap in roadmaps %}

        
            <tr class="roadmaps__roadmap" onclick="window.location.href='detail/{{roadmap.roadmap.id}}/'">
                <td class="roadmaps__roadmap__item">
                    {{roadmap.roadmap.roadmap_name}} 
                    {% if roadmap.comments|length > 0 %}
                    <span class="reply_badge">
                        
                        {{roadmap.comments|length}}
                    </span>
                    {% endif %}
                </td>
                
                <td class="roadmaps__roadmap__item"><span class="status_badge status {{roadmap.roadmap.status}}">{{roadmap.roadmap.status}}</span></td>
                <td class="roadmaps__roadmap__item">{{roadmap.roadmap.assignee}}</td>
                <td class="roadmaps__roadmap__item">{{roadmap.roadmap.requester}}</td>
                <td class="roadmaps__roadmap__item">{{roadmap.roadmap.created_at|date:"Y-m-d"}}</td>
            </tr>
       
        {% endfor %}
    </tbody>
</table>

{% endblock %}